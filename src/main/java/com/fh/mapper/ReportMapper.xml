<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper    
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fh.dao.ReportDao">
	
<select id="selectForPage" resultType="report">
	select id,name,phone_num,center,plan_num,arrive_num,in_num,source,order_num ,money,analysis
	 from tb_reportforms 
			<where>
				is_valid = 1 				
			 <if test="@Ognl@isNotEmpty(name)">
					and name like '%${name}%'
				</if>
				<if test="@Ognl@isNotEmpty(center)">
					and center like '%${center}%'
				</if> 
			</where>
	</select>
	

   <select id="selectCenterList" resultType="report">
        
      	select id,name,phone_num,center,plan_num,arrive_num,in_num,source,order_num ,money,analysis
	       
	        from tb_reportforms 
        <where>
            is_valid = 1
            <if test="@Ognl@isNotEmpty(userCenter)">
            and center = #{userCenter}
            </if>
            <if test="@Ognl@isNotEmpty(name)">
                and name like '%${name}%'
            </if>
            order by id DESC

        </where>

    </select> 
	
	
</mapper>